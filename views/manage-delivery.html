{{ define "manage-delivery.html" }}

<!DOCTYPE html>
<html lang="ko">

<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
  <link rel="stylesheet" href="/contents/mypage/css/mypage.css?v={{ .cssRandomVersion }}">
  <link rel="stylesheet" href="/contents/css/common.css?v={{ .cssRandomVersion }}">
  <link rel="stylesheet" href="/contents/mypage/css/sass.css?v={{ .cssRandomVersion }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  {{ template "shared/header.tmpl" . }}
  <script src="https://kit.fontawesome.com/7e24956d25.js" crossorigin="anonymous"></script>
  <script src="/contents/js/main.js?v={{ .cssRandomVersion }}" defer></script>
  {{ template "shared/title.tmpl" . }}
</head>

<body class="gray_bg">
  {{ template "shared/nav.tmpl" . }}
  {{ template "shared/nav-title.tmpl" . }}

  <section class="manage_section">
    <button class="delivery_add" onclick="location.href='/web/delivery/insert'">
      <img src="/contents/mypage/images/address_ico.svg" />배송지 추가하기
    </button>
    <ul>
      {{ range .deliveries }}
      <li class="wh_box">
        <div>
          <div class="customer">
            <!-- <a class="nav_x" href="../index.html">
                  <span></span>
                  <span></span>
                </a>     -->
            <div class="name">
              <div class="shipping_manage_modify">
                <div>{{ .RcvName }}</div>
                <button class="delivery_modify_button" onclick="handleModifyAddress(event, {{ .AddressNo}})">수정</button>
              </div>
            </div>
            <div class="phone"><img src="/contents/mypage/images/mobile_ico.svg">{{ .ContactNo }}</div>
            <div class="address">
              (<span>{{ .PostNo }}</span>) {{ .RoadAddress }} {{ .SubAddress }}
            </div>
            <div class="shipping_option">{{ .ReqMsg }}</div>
          </div>
        </div>
      </li>
      {{ end }}
    </ul>
    <!-- <section class="yello_div_button mt3rem"><button class="yello_button">저장하기</button></section> -->
  </section>
  
  {{ template "shared/footer.tmpl" . }}

  <script type="text/javascript">
    function handleModifyAddress(event, addressNo) {
      modifyDeliveryPath = "/web/delivery/modify"
      setCookie("addressNo", addressNo, "", 3600, modifyDeliveryPath);
      location.href = modifyDeliveryPath
    }
  
    function handleBack() {
      var previousMngDelivPage = getCookie("previousMngDelivPage")
      removeCookie("previousMngDelivPage", "", "/web/delivery/manage")
  
      if (previousMngDelivPage === null) {
        location.href = "/web/my-page/main"
        return
      }
  
      location.href = previousMngDelivPage
    }
  </script>
  
  {{ template "shared/extend-token.tmpl" . }}
</body>
</html>

{{ end }}
